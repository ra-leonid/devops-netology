## Задача 1
Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:
* Электронные чеки в json виде
* Склады и автомобильные дороги для логистической компании
* Генеалогические деревья
* Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
* Отношения клиент-покупка для интернет-магазина

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

### Ответ:
* Электронные чеки в json виде - NoSQL документо-ориентированные. Данные хранятся в виде документов, которые, в свою очередь, представляют данные в виде ключ-значение. Идеально подходит для данных в json формате.
* Склады и автомобильные дороги для логистической компании - NoSQL графовые СУБД. Идеально подходят для выполнения запросов по поиску оптимального пути, применяя на практике теорию графов.
* Генеалогические деревья - NoSQL сетевые СУБД они являются продолжением иерархических СУБД, в отличии от них, дочерние записи могут иметь несколько родителей.
* Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации - NoSQL Ключ-значение СУБД, все значения хранят в ОЗУ, работают очень быстро, используются. Ключом будет логин клиента, значением - его идентификатор. Данные хранятся на время сессии.
* Отношения клиент-покупка для интернет-магазина - реляционные СУБД. Данные в БД логически структурированы, отношения таблиц в БД явно задано и описано, в них обеспечивается согласованности данных, транзакционность, соответствует приципу ACID, по которому можно строить высоконадежные системы.

## Задача 2
Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

* Данные записываются на все узлы с задержкой до часа (асинхронная запись)
* При сетевых сбоях, система может разделиться на 2 раздельных кластера
* Система может не прислать корректный ответ или сбросить соединение

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

### Ответ:
* Данные записываются на все узлы с задержкой до часа (асинхронная запись) - **AP**, данные доступны, система устойчива к разделению, но ответы узлов в 1 момент времени могут различаться. По PACELC-теореме это **PA/EL** система.
* При сетевых сбоях, система может разделиться на 2 раздельных кластера - **CA**, данная система не может обеспечивать устойчивость разделения, поэтому, при разделении отдельные узлы начинают функционировать как независимые СУБД. По PACELC-теореме это **PA/EL** либо **PA/EC** система (по описанию непонятно как система ведет себя в отсутствии разделения).
* Система может не прислать корректный ответ или сбросить соединение - **CP**, системы CP не обеспечивают доступность, но зато данные во всех узлах согласованы, и она устойчива к разделению. По PACELC-теореме это **PC/EC** (по описанию видно, что для системы важна согласованность данных в любом режиме работы).


## Задача 3
Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

### Ответ:
Принципы BASE и ACID в одной системе сочетаться не могут. Они противопоставляемые друг-другу. По ACID - данные согласованные, а по BASE - могут быть неверные.

## Задача 4
Вам дали задачу написать системное решение, основой которого бы послужили:
* фиксация некоторых значений с временем жизни
* реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора данной системы?

### Ответ:
Reddis. Имеет встроенную систему Pub/Sub. 

Минусы: 
* сложности при работе с большими объемами данных, объем данных не должен превышать объем свободного ОЗУ сервера, иначе работа замедлится. 
* Есть риск не сохранения данных, сложности с настройкой кластера и шардингом. 
* Шардинг (техника масштабирования) ведет к увеличению задержки
* Может медленно работать, если настроить персистентность 
* Без персистентности, можно потерять данные при сбое сервера или перезапуске сервиса
* Нет сегментации на пользователей или группы пользователей. Отсутствует контроль доступа (Доступ по общему паролю).
* Так как Redis может хранить только текстовые данные, то объекты перед сохранением приходиться сериализовать, а перед выдачей десериализовывать в какой-то текстовый формат.